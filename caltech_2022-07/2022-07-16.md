```
mkdir ${HOME}/kubernetes-dashboard/
cd ${HOME}/kubernetes-dashboard/
wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.5.0/aio/deploy/recommended.yaml
kubectl apply -f recommended.yaml
kubectl -n kubernetes-dashboard get all
```
Change the type of the Service from ClusterIP to NodePort and save the changes:
```
#export KUBE_EDITOR=nano
kubectl edit svc -n kubernetes-dashboard kubernetes-dashboard
kubectl get svc -n kubernetes-dashboard
```
Now you can coonect to the Kubernetes dashboard from a web browser using the Node port identified in the output of the previous command: https://localhost:32231
```
kubectl -n kube-system describe secret $(kubectl -n kube-system get secret | awk '/^deployment-controller-token-/{print $1}') | awk '$1=="token:"{print $2}'
```
Use the previous token to access the Welcome page in the Dashboard.
```
kubectl delete clusterrolebindings kubernetes-dashboard
kubectl create clusterrolebinding kubernetes-dashboard --clusterrole=admin --serviceaccount=kubernetes-dashboard:kubernetes-dashboard
```
```
kubectl create ns role
mkdir ${HOME}/role/
cd ${HOME}/role/
sudo openssl genrsa -out user3.key
sudo openssl req -new -key user3.key -out user3.csr
```
Use `role` and `user3` for the Organization Name and the Common Name respectively when generating the previous certificate request.
```
sudo openssl x509 -req -in user3.csr -CA /etc/kubernetes/pki/ca.crt -CAkey /etc/kubernetes/pki/ca.key -CAcreateserial -out user3.crt -days 500
```
```
tee role.yaml 0<<EOF
kind: Role
apiVersion: rbac.authorization.k8s.io/v1
metadata:       
   namespace: role
   name: user3-role    
rules:
- apiGroups: ["", "extensions", "apps"]    
  resources: ["deployments", "pods", "services"]
  verbs: ["get", "list", "watch", "create", "update", "patch", "delete"]
EOF
```
```
kubectl create -f role.yaml
```
```
tee rolebinding.yaml 0<<EOF
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
 name: role-test
 namespace: role
subjects:
- kind: User
  name: user3
  apiGroup: ""
roleRef:
  kind: Role
  name: user3-role
  apiGroup: ""
EOF
```
